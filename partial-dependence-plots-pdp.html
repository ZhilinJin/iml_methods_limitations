<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="partial-dependence-plots-pdp-and-individual-conditional-expectation-curves.html">
<link rel="next" href="ice.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Limitation of ML Interpretability</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="method-chapters.html"><a href="method-chapters.html"><i class="fa fa-check"></i><b>1</b> Method chapters</a></li>
<li class="chapter" data-level="2" data-path="partial-dependence-plots-pdp-and-individual-conditional-expectation-curves.html"><a href="partial-dependence-plots-pdp-and-individual-conditional-expectation-curves.html"><i class="fa fa-check"></i><b>2</b> Partial Dependence Plots (PDP) and Individual Conditional Expectation Curves</a><ul>
<li class="chapter" data-level="2.1" data-path="partial-dependence-plots-pdp.html"><a href="partial-dependence-plots-pdp.html"><i class="fa fa-check"></i><b>2.1</b> Partial Dependence Plots (PDP)</a></li>
<li class="chapter" data-level="2.2" data-path="ice.html"><a href="ice.html"><i class="fa fa-check"></i><b>2.2</b> ICE</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="partial-dependence-plots-pdp" class="section level2">
<h2><span class="header-section-number">2.1</span> Partial Dependence Plots (PDP)</h2>
<p>The Partial Dependence Plot (PDP) is a rather intuitive and easy-to-understand visualization of the features’ impact on the predicted outcome. It maps the marginal effect of the selected variable(s) and can reveal the nature of dependence structure between target and individual feature variable<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<p>The underlying function can be described as follows:</p>
<p>Let <span class="math inline">\(x_S\)</span> be the set of features of interest for the PDP and <span class="math inline">\(x_C\)</span> the complement set which contains all other features. While the general model function <span class="math inline">\(f(x) = f(x_S, x_C)\)</span> depends on all input variables, the partial dependence function marginalizes over the feature distribution in set C:<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<p><span class="math display">\[f_{x_S}(x_S) = \mathbb{E}_{x_C}[f(x_S, x_C)]\]</span></p>
<p>The partial dependence function can be estimated by averaging the actual feature values of <span class="math inline">\(x_C\)</span> in the training data at given values of <span class="math inline">\(x_S\)</span> or, in other words, it computes the marginal effect of <span class="math inline">\(x_S\)</span> on the prediction. In order to derive realistic results, a major assumption of the PDP is that the features in <span class="math inline">\(x_S\)</span> and <span class="math inline">\(x_C\)</span> are uncorrelated.<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a></p>
<p><span class="math display">\[\hat{f}_{x_S}(x_S)=\frac{1}{n}\sum_{i=1}^{n}f(x_S, x^{(i)}_{C})\]</span></p>
<p>[PLOT: PDP numerical features, numerical outcome] <img src="PDP_Age.jpeg" alt="PDP Class" /> In classification problems with probability outputs, the partial dependence function is modeled separately for all of the K different classes, i.e. it shows the probability for each respective class at given feature values of <span class="math inline">\(x_S\)</span>.<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a></p>
<p>[PLOT: PDP numerical features, multiclass outcome] <img src="PDP_Pclass.jpeg" alt="PDP Class" /></p>
<p><strong>Advantages and Limitations of PD plots</strong></p>
<p>Partial Dependence Plots are easy to compute and a poular way explain insights from black box Machine Learning models. With their intuitive character, PDPs perfectly qualify for the communication to non-technical audience. However, due to limited visualization techniques and the restriction of human perception to a maximum of three dimensions, only one or two features can reasonably be displayed in one PDP.<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a></p>
<p>[PLOT: PDP with two features]</p>
<p>Drawing a PDP with one or two feature variables allows a straight-forward interpretation of the marginal effects. This holds true as long as the features are not correlated. Should this assumption be violated, the partial dependence function will produce unrealistic data points. Furthermore, opposite effects of heterogeneous subgroups might remain hidden through averaging the marginal effects, which could lead to wrong conclusions.<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a></p>
<p>[PLOT: PDP with correlated features]</p>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Molnar. “Interpretable Machine Learning”. <a href="https://christophm.github.io/interpretable-ml-book/simple.html" class="uri">https://christophm.github.io/interpretable-ml-book/simple.html</a>.<a href="partial-dependence-plots-pdp.html#fnref1">↩</a></p></li>
<li id="fn2"><p>Hastie, Tibshirani, Friedman. The Elements of Statistical Learning. Springer. <a href="https://web.stanford.edu/~hastie/ElemStatLearn/printings/ESLII_print12.pdf" class="uri">https://web.stanford.edu/~hastie/ElemStatLearn/printings/ESLII_print12.pdf</a>.<a href="partial-dependence-plots-pdp.html#fnref2">↩</a></p></li>
<li id="fn3"><p>Hastie, Tibshirani, Friedman. The Elements of Statistical Learning. Springer. <a href="https://web.stanford.edu/~hastie/ElemStatLearn/printings/ESLII_print12.pdf" class="uri">https://web.stanford.edu/~hastie/ElemStatLearn/printings/ESLII_print12.pdf</a>.<a href="partial-dependence-plots-pdp.html#fnref3">↩</a></p></li>
<li id="fn4"><p>Hastie, Tibshirani, Friedman. The Elements of Statistical Learning. Springer. <a href="https://web.stanford.edu/~hastie/ElemStatLearn/printings/ESLII_print12.pdf" class="uri">https://web.stanford.edu/~hastie/ElemStatLearn/printings/ESLII_print12.pdf</a>.<a href="partial-dependence-plots-pdp.html#fnref4">↩</a></p></li>
<li id="fn5"><p>Molnar. “Interpretable Machine Learning”. <a href="https://christophm.github.io/interpretable-ml-book/simple.html" class="uri">https://christophm.github.io/interpretable-ml-book/simple.html</a>.<a href="partial-dependence-plots-pdp.html#fnref5">↩</a></p></li>
<li id="fn6"><p>Molnar. “Interpretable Machine Learning”. <a href="https://christophm.github.io/interpretable-ml-book/simple.html" class="uri">https://christophm.github.io/interpretable-ml-book/simple.html</a>.<a href="partial-dependence-plots-pdp.html#fnref6">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="partial-dependence-plots-pdp-and-individual-conditional-expectation-curves.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ice.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/compstat-lmu/iml_methods_limitations/edit/master/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "none"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
